import random

:: Start
~ count = 0

@py:
# Multi-line python
import random

rolls = []
for i in range(5):
    roll = random.randint(1, 6)
    rolls.append(roll)

total = sum(rolls)
average = total / len(rolls)
count = len(rolls)

if total > 20:
    outcome = "excellent"
elif total > 15:
    outcome = "good"
else:
    outcome = "poor"

def greet(name):
    return f"Hi there {name}"

def roll_dice(int):
    return random.randint(1, int)
@endpy

You rolled {count} dice: {rolls}

Total: {total}
Average: {average:.1f}
Outcome: {outcome}

---

@py:
name = "Hero"
greeting = greet(name)
@endpy

{greeting}
You rolled: {dice_roll}

+ [Roll again] -> RollAgain
+ [Done] -> End

:: RollAgain
@py:
import random
new_roll = random.randint(1, 6)
total = total + new_roll
count = count + 1
@endpy

You rolled another die: {new_roll}
New total: {total} (from {count} dice)

+ [Done] -> End

:: End
Final score: {total}
