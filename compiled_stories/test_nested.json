{
  "version": "0.1.0",
  "initial_passage": "Start",
  "passages": {
    "Start": {
      "id": "Start",
      "content": [
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Character: "
        },
        {
          "type": "expression",
          "code": "hero.name"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Stats:"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "- Health: "
        },
        {
          "type": "expression",
          "code": "hero.stats.health"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "- Mana: "
        },
        {
          "type": "expression",
          "code": "hero.stats.mana"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "- Stamina: "
        },
        {
          "type": "expression",
          "code": "hero.stats.stamina"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "- Total: "
        },
        {
          "type": "expression",
          "code": "hero.stats.get_total()"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Inventory: "
        },
        {
          "type": "expression",
          "code": "\", \".join(hero.inventory)"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Items: "
        },
        {
          "type": "expression",
          "code": "len(hero.inventory)"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Weapon: "
        },
        {
          "type": "expression",
          "code": "hero.equipped[\"weapon\"]"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [
        {
          "text": "Continue",
          "target": "Modify",
          "condition": null
        }
      ],
      "execute": [
        {
          "type": "python_block",
          "code": "import sys\nsys.path.insert(0, '.')\nfrom test_objects import Character\n\nhero = Character(\"Aldric\")\nhero.stats.health = 85\nhero.stats.mana = 60\nhero.inventory = [\"potion\", \"scroll\", \"key\"]\nhero.equip_weapon(\"Excalibur\")"
        }
      ]
    },
    "Modify": {
      "id": "Modify",
      "content": [
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "After battle:"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Health: "
        },
        {
          "type": "expression",
          "code": "hero.stats.health"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Inventory: "
        },
        {
          "type": "expression",
          "code": "hero.inventory"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Character info: "
        },
        {
          "type": "expression",
          "code": "hero.get_info()"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [
        {
          "text": "Done",
          "target": "End",
          "condition": null
        }
      ],
      "execute": [
        {
          "type": "python_block",
          "code": "hero.stats.health -= 20\nhero.inventory.append(\"gem\")"
        }
      ]
    },
    "End": {
      "id": "End",
      "content": [
        {
          "type": "text",
          "value": "Game over!"
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [],
      "execute": []
    }
  }
}