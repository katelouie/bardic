{
  "version": "0.1.0",
  "initial_passage": "Start",
  "imports": [],
  "passages": {
    "Start": {
      "id": "Start",
      "content": [
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "**Health Check**"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Your health: "
        },
        {
          "type": "expression",
          "code": "health"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "conditional",
          "branches": [
            {
              "condition": "health <= 0",
              "content": [
                {
                  "type": "text",
                  "value": "You collapse!"
                },
                {
                  "type": "text",
                  "value": "\n"
                },
                {
                  "type": "jump",
                  "target": "Death"
                }
              ]
            },
            {
              "condition": "health < 50",
              "content": [
                {
                  "type": "text",
                  "value": "You're wounded but alive."
                },
                {
                  "type": "text",
                  "value": "\n"
                },
                {
                  "type": "jump",
                  "target": "Injured"
                }
              ]
            }
          ]
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "You're feeling fine."
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [
        {
          "text": "Continue",
          "target": "End",
          "condition": null
        }
      ],
      "execute": [
        {
          "type": "set_var",
          "var": "health",
          "expression": "30"
        }
      ]
    },
    "Death": {
      "id": "Death",
      "content": [
        {
          "type": "text",
          "value": "**You died.**"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Game Over."
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [],
      "execute": []
    },
    "Injured": {
      "id": "Injured",
      "content": [
        {
          "type": "text",
          "value": "**You're injured.**"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "You limp forward, barely standing."
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [
        {
          "text": "Rest",
          "target": "Rest",
          "condition": null
        },
        {
          "text": "Continue anyway",
          "target": "End",
          "condition": null
        }
      ],
      "execute": []
    },
    "Rest": {
      "id": "Rest",
      "content": [
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "You rest and recover."
        },
        {
          "type": "text",
          "value": "\n"
        },
        {
          "type": "text",
          "value": "Health: "
        },
        {
          "type": "expression",
          "code": "health"
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [
        {
          "text": "Continue",
          "target": "Start",
          "condition": null
        }
      ],
      "execute": [
        {
          "type": "set_var",
          "var": "health",
          "expression": "100"
        }
      ]
    },
    "End": {
      "id": "End",
      "content": [
        {
          "type": "text",
          "value": "**The End**"
        },
        {
          "type": "text",
          "value": "\n"
        }
      ],
      "choices": [],
      "execute": []
    }
  }
}